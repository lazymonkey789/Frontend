{"ast":null,"code":"import _regeneratorRuntime from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useContext,useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"../context/AuthProvider\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BbsWrite(){var _useContext=useContext(AuthContext),auth=_useContext.auth,setAuth=_useContext.setAuth;var _useContext2=useContext(HttpHeadersContext),headers=_useContext2.headers,setHeaders=_useContext2.setHeaders;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var changeTitle=function changeTitle(event){setTitle(event.target.value);};var changeContent=function changeContent(event){setContent(event.target.value);};/* [POST /bbs]: 게시글 작성 */var createBbs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var req;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:req={id:localStorage.getItem(\"id\"),title:title,content:content};_context.next=3;return axios.post(\"http://localhost:3000/bbs\",req,{headers:headers}).then(function(resp){console.log(\"[BbsWrite.js] createBbs() success :D\");console.log(resp.data);alert(\"새로운 게시글을 성공적으로 등록했습니다 :D\");navigate(\"/bbsdetail/\".concat(resp.data.seq));// 새롭게 등록한 글 상세로 이동\n}).catch(function(err){console.log(\"[BbsWrite.js] createBbs() error :<\");console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function createBbs(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!auth){alert(\"로그인 한 사용자만 게시글을 작성할 수 있습니다 !\");navigate(-1);}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:localStorage.getItem(\"id\"),size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:changeTitle,size:\"50px\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:content,onChange:changeContent,rows:\"10\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-5 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:createBbs,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pen\"}),\" \\uB4F1\\uB85D\\uD558\\uAE30\"]})})]});}export default BbsWrite;","map":{"version":3,"names":["React","axios","useContext","useEffect","useState","useNavigate","AuthContext","HttpHeadersContext","BbsWrite","auth","setAuth","headers","setHeaders","navigate","title","setTitle","content","setContent","changeTitle","event","target","value","changeContent","createBbs","req","id","localStorage","getItem","post","then","resp","console","log","data","alert","seq","catch","err"],"sources":["C:/Equinox/Workspace/frontend/src/Components/bbs/BbsWrite.js"],"sourcesContent":["import  React from \"react\";\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\n\nfunction BbsWrite() {\n\n\tconst { auth, setAuth } = useContext(AuthContext)\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\n\n\tconst navigate = useNavigate();\n\n\tconst [title, setTitle] = useState(\"\");\n\tconst [content, setContent] = useState(\"\");\n\n\tconst changeTitle = (event) => {\n\t\tsetTitle(event.target.value);\n\t}\n\n\tconst changeContent = (event) => {\n\t\tsetContent(event.target.value);\n\t}\n\n\t/* [POST /bbs]: 게시글 작성 */\n\tconst createBbs = async() => {\n\n\t\tconst req = {\n\t\t\tid: localStorage.getItem(\"id\"), \n\t\t\ttitle: title, \n\t\t\tcontent: content\n\t\t}\n\n\t\tawait axios.post(\"http://localhost:3000/bbs\", req, {headers: headers})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"[BbsWrite.js] createBbs() success :D\");\n\t\t\tconsole.log(resp.data);\n\n\t\t\talert(\"새로운 게시글을 성공적으로 등록했습니다 :D\");\n\t\t\tnavigate(`/bbsdetail/${resp.data.seq}`); // 새롭게 등록한 글 상세로 이동\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(\"[BbsWrite.js] createBbs() error :<\");\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (!auth) {\n\t\t\talert(\"로그인 한 사용자만 게시글을 작성할 수 있습니다 !\");\n\t\t\tnavigate(-1);\n\t\t}\n\t}, []);\n\n\n\treturn (\n\t\t<div>\n\t\t\t<table className=\"table\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">작성자</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"  value={localStorage.getItem(\"id\")} size=\"50px\" readOnly />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">제목</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={title} onChange={changeTitle} size=\"50px\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">내용</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<textarea className=\"form-control\" value={content} onChange={changeContent} rows=\"10\"></textarea>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<div className=\"my-5 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={createBbs}><i className=\"fas fa-pen\"></i> 등록하기</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default BbsWrite;"],"mappings":"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"},"metadata":{},"sourceType":"module"}