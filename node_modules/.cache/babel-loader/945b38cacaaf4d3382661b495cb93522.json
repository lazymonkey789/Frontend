{"ast":null,"code":"import _regeneratorRuntime from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useState,useEffect}from\"react\";import Pagination from\"react-js-pagination\";import Comment from\"./Comment.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CommentList(props){var seq=props.seq;// Paging\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalCnt=_useState4[0],setTotalCnt=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),commentList=_useState6[0],setCommentList=_useState6[1];var changePage=function changePage(page){setPage(page);getCommentList(page);};var getCommentList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(page){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3000/comment\",{params:{\"bbsSeq\":seq,\"page\":page}}).then(function(resp){console.log(\"[BbsComment.js] getCommentList() success :D\");console.log(resp.data);setCommentList(resp.data.commentList);setTotalCnt(resp.data.pageCnt);}).catch(function(err){console.log(\"[BbsComment.js] getCommentList() error :<\");console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getCommentList(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getCommentList(1);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-1 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paperclip\"}),\" \\uB313\\uAE00 \\uBAA9\\uB85D \"]})}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsCountPerPage:5,totalItemsCount:totalCnt,pageRangeDisplayed:5,prevPageText:\"‹\",nextPageText:\"›\",onChange:changePage}),commentList.map(function(comment,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsx(Comment,{obj:comment},idx)},idx);})]});}export default CommentList;","map":{"version":3,"names":["React","axios","useState","useEffect","Pagination","Comment","CommentList","props","seq","page","setPage","totalCnt","setTotalCnt","commentList","setCommentList","changePage","getCommentList","get","params","then","resp","console","log","data","pageCnt","catch","err","map","comment","idx"],"sources":["C:/Equinox/Workspace/frontend/src/Components/comment/CommentList.js"],"sourcesContent":["import  React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport Pagination from \"react-js-pagination\";\n\nimport Comment from \"./Comment.js\"\n\nfunction CommentList(props) {\n\n\tconst seq = props.seq;\n\n\t// Paging\n\tconst [page, setPage] = useState(1);\n\tconst [totalCnt, setTotalCnt] = useState(0);\n\n\tconst [commentList, setCommentList] = useState([]);\n\n\tconst changePage = (page) => {\n\t\tsetPage(page);\n\t\tgetCommentList(page);\n\t}\n\n\tconst getCommentList = async (page) => {\n\t\tawait axios.get(`http://localhost:3000/comment`, { params: { \"bbsSeq\": seq, \"page\": page } })\n\t\t\t.then((resp) => {\n\t\t\t\tconsole.log(\"[BbsComment.js] getCommentList() success :D\");\n\t\t\t\tconsole.log(resp.data);\n\n\t\t\t\tsetCommentList(resp.data.commentList);\n\t\t\t\tsetTotalCnt(resp.data.pageCnt);\n\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(\"[BbsComment.js] getCommentList() error :<\");\n\t\t\t\tconsole.log(err);\n\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tgetCommentList(1);\n\t}, []);\n\n\treturn (\n\t\t<>\n\n\t\t\t<div className=\"my-1 d-flex justify-content-center\">\n\t\t\t\t<h5><i className=\"fas fa-paperclip\"></i> 댓글 목록 </h5>\n\t\t\t</div>\n\n\t\t\t<Pagination\n\t\t\t\tactivePage={page}\n\t\t\t\titemsCountPerPage={5}\n\t\t\t\ttotalItemsCount={totalCnt}\n\t\t\t\tpageRangeDisplayed={5}\n\t\t\t\tprevPageText={\"‹\"}\n\t\t\t\tnextPageText={\"›\"}\n\t\t\t\tonChange={changePage} />\n\t\t\t{\n\t\t\t\tcommentList.map(function (comment, idx) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"my-5\" key={idx}>\n\t\t\t\t\t\t\t<Comment obj={comment} key={idx} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\n\t\t</>\n\n\t);\n}\n\n\nexport default CommentList;"],"mappings":"yWAAA,MAAQA,MAAR,KAAmB,OAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,WAAP,KAAuB,qBAAvB,CAEA,MAAOC,QAAP,KAAoB,cAApB,C,6IAEA,QAASC,YAAT,CAAqBC,KAArB,CAA4B,CAE3B,GAAMC,IAAG,CAAGD,KAAK,CAACC,GAAlB,CAEA;AACA,cAAwBN,QAAQ,CAAC,CAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAgCR,QAAQ,CAAC,CAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAEA,eAAsCV,QAAQ,CAAC,EAAD,CAA9C,yCAAOW,WAAP,eAAoBC,cAApB,eAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACN,IAAD,CAAU,CAC5BC,OAAO,CAACD,IAAD,CAAP,CACAO,cAAc,CAACP,IAAD,CAAd,CACA,CAHD,CAKA,GAAMO,eAAc,4FAAG,iBAAOP,IAAP,0IAChBR,MAAK,CAACgB,GAAN,iCAA2C,CAAEC,MAAM,CAAE,CAAE,SAAUV,GAAZ,CAAiB,OAAQC,IAAzB,CAAV,CAA3C,EACJU,IADI,CACC,SAACC,IAAD,CAAU,CACfC,OAAO,CAACC,GAAR,CAAY,6CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EAEAT,cAAc,CAACM,IAAI,CAACG,IAAL,CAAUV,WAAX,CAAd,CACAD,WAAW,CAACQ,IAAI,CAACG,IAAL,CAAUC,OAAX,CAAX,CAEA,CARI,EAQFC,KARE,CAQI,SAACC,GAAD,CAAS,CACjBL,OAAO,CAACC,GAAR,CAAY,2CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYI,GAAZ,EAEA,CAZI,CADgB,uDAAH,kBAAdV,eAAc,4CAApB,CAgBAb,SAAS,CAAC,UAAM,CACfa,cAAc,CAAC,CAAD,CAAd,CACA,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACC,wCAEC,YAAK,SAAS,CAAC,oCAAf,uBACC,mCAAI,UAAG,SAAS,CAAC,kBAAb,EAAJ,iCADD,EAFD,cAMC,KAAC,UAAD,EACC,UAAU,CAAEP,IADb,CAEC,iBAAiB,CAAE,CAFpB,CAGC,eAAe,CAAEE,QAHlB,CAIC,kBAAkB,CAAE,CAJrB,CAKC,YAAY,CAAE,GALf,CAMC,YAAY,CAAE,GANf,CAOC,QAAQ,CAAEI,UAPX,EAND,CAeEF,WAAW,CAACc,GAAZ,CAAgB,SAAUC,OAAV,CAAmBC,GAAnB,CAAwB,CACvC,mBACC,YAAK,SAAS,CAAC,MAAf,uBACC,KAAC,OAAD,EAAS,GAAG,CAAED,OAAd,EAA4BC,GAA5B,CADD,EAA2BA,GAA3B,CADD,CAKA,CAND,CAfF,GADD,CA4BA,CAGD,cAAevB,YAAf"},"metadata":{},"sourceType":"module"}