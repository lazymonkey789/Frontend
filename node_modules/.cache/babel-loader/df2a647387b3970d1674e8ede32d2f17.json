{"ast":null,"code":"import _regeneratorRuntime from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CommentWrite(props){var _useContext=useContext(HttpHeadersContext),headers=_useContext.headers,setHeaders=_useContext.setHeaders;var id=localStorage.getItem(\"id\");var seq=props.seq;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var chageContent=function chageContent(event){setContent(event.target.value);};var createComment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var req;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:req={id:id,content:content,bbsSeq:seq};_context.next=3;return axios.post(\"http://localhost:3000/comment\",req,{params:{\"bbsSeq\":seq},headers:headers}).then(function(resp){console.log(\"[CommentWrite.js] createComment() success :D\");console.log(resp.data);if(resp.data.seq!=null){alert(\"댓글을 성공적으로 등록했습니다 :D\");navigate(0);}}).catch(function(err){console.log(\"[CommentWrite.js] createComment() error :<\");console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function createComment(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-1 d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/profile-placeholder.png\",alt:\"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0\",className:\"profile-img\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-7\",children:/*#__PURE__*/_jsx(\"span\",{className:\"comment-id\",children:id})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2 my-1 d-flex justify-content-end\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:createComment,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comment-dots\"}),\" \\uB313\\uAE00 \\uCD94\\uAC00\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"col-10\",rows:\"5\",value:content,onChange:chageContent})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}export default CommentWrite;","map":{"version":3,"names":["React","axios","useContext","useState","useNavigate","HttpHeadersContext","CommentWrite","props","headers","setHeaders","id","localStorage","getItem","seq","navigate","content","setContent","chageContent","event","target","value","createComment","req","bbsSeq","post","params","then","resp","console","log","data","alert","catch","err"],"sources":["C:/Equinox/Workspace/frontend/src/Components/comment/CommentWrite.js"],"sourcesContent":["import  React from \"react\";\nimport axios from \"axios\";\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\n\nfunction CommentWrite(props) {\n\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\n\n\tconst id = localStorage.getItem(\"id\");\n\tconst seq = props.seq;\n\n\tconst navigate = useNavigate();\n\n\tconst [content, setContent] = useState(\"\");\n\n\tconst chageContent = (event) => {\n\t\tsetContent(event.target.value);\n\t}\n\n\tconst createComment = async() => {\n\n\t\tconst req = {\n\t\t\tid: id,\n\t\t\tcontent: content,\n\t\t\tbbsSeq: seq\n\t\t}\n\n\t\tawait axios.post(`http://localhost:3000/comment`, req, { params: {\"bbsSeq\": seq}, headers: headers})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"[CommentWrite.js] createComment() success :D\");\n\t\t\tconsole.log(resp.data);\n\n\t\t\tif (resp.data.seq != null) {\n\t\t\t\talert(\"댓글을 성공적으로 등록했습니다 :D\");\n\t\t\t\tnavigate(0);\n\t\t\t}\n\n\t\t}).catch((err) => {\n\t\t\tconsole.log(\"[CommentWrite.js] createComment() error :<\");\n\t\t\tconsole.log(err);\n\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t\t{/* 상단 영역 (프로필 이미지, 댓글 작성자) */}\n\t\t\t\t<div className=\"my-1 d-flex justify-content-center\">\n\t\t\t\t\t<div className=\"col-1\">\n\t\t\t\t\t\t<img src=\"/images/profile-placeholder.png\" alt=\"프로필 이미지\"\n\t\t\t\t\t\t\tclassName=\"profile-img\"/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-7\">\n\t\t\t\t\t\t<span className=\"comment-id\" >{id}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-2 my-1 d-flex justify-content-end\">\n\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={createComment}><i className=\"fas fa-comment-dots\"></i> 댓글 추가</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* 하단 영역 (댓글 내용) */}\n\t\t\t\t<div className=\"my-3 d-flex justify-content-center\">\n\t\t\t\t\t<textarea className=\"col-10\" rows=\"5\" value={content} onChange={chageContent}></textarea>\n\t\t\t\t</div><br/><br/>\n\t\t</>\n\t)\n}\n\nexport default CommentWrite;"],"mappings":"yWAAA,MAAQA,MAAR,KAAmB,OAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,kBAAT,KAAmC,gCAAnC,C,6IAEA,QAASC,aAAT,CAAsBC,KAAtB,CAA6B,CAE5B,gBAAgCL,UAAU,CAACG,kBAAD,CAA1C,CAAQG,OAAR,aAAQA,OAAR,CAAiBC,UAAjB,aAAiBA,UAAjB,CAEA,GAAMC,GAAE,CAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAX,CACA,GAAMC,IAAG,CAAGN,KAAK,CAACM,GAAlB,CAEA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAEA,cAA8BD,QAAQ,CAAC,EAAD,CAAtC,wCAAOY,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC/BF,UAAU,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV,CACA,CAFD,CAIA,GAAMC,cAAa,4FAAG,6IAEfC,GAFe,CAET,CACXZ,EAAE,CAAEA,EADO,CAEXK,OAAO,CAAEA,OAFE,CAGXQ,MAAM,CAAEV,GAHG,CAFS,uBAQfZ,MAAK,CAACuB,IAAN,iCAA4CF,GAA5C,CAAiD,CAAEG,MAAM,CAAE,CAAC,SAAUZ,GAAX,CAAV,CAA2BL,OAAO,CAAEA,OAApC,CAAjD,EACLkB,IADK,CACA,SAACC,IAAD,CAAU,CACfC,OAAO,CAACC,GAAR,CAAY,8CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EAEA,GAAIH,IAAI,CAACG,IAAL,CAAUjB,GAAV,EAAiB,IAArB,CAA2B,CAC1BkB,KAAK,CAAC,qBAAD,CAAL,CACAjB,QAAQ,CAAC,CAAD,CAAR,CACA,CAED,CAVK,EAUHkB,KAVG,CAUG,SAACC,GAAD,CAAS,CACjBL,OAAO,CAACC,GAAR,CAAY,4CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYI,GAAZ,EAEA,CAdK,CARe,uDAAH,kBAAbZ,cAAa,0CAAnB,CAyBA,mBACC,wCAEE,aAAK,SAAS,CAAC,oCAAf,wBACC,YAAK,SAAS,CAAC,OAAf,uBACC,YAAK,GAAG,CAAC,iCAAT,CAA2C,GAAG,CAAC,uCAA/C,CACC,SAAS,CAAC,aADX,EADD,EADD,cAMC,YAAK,SAAS,CAAC,OAAf,uBACC,aAAM,SAAS,CAAC,YAAhB,UAA+BX,EAA/B,EADD,EAND,cASC,YAAK,SAAS,CAAC,uCAAf,uBACC,gBAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAEW,aAAvD,wBAAsE,UAAG,SAAS,CAAC,qBAAb,EAAtE,gCADD,EATD,GAFF,cAgBE,YAAK,SAAS,CAAC,oCAAf,uBACC,iBAAU,SAAS,CAAC,QAApB,CAA6B,IAAI,CAAC,GAAlC,CAAsC,KAAK,CAAEN,OAA7C,CAAsD,QAAQ,CAAEE,YAAhE,EADD,EAhBF,cAkBQ,aAlBR,cAkBa,aAlBb,GADD,CAsBA,CAED,cAAeX,aAAf"},"metadata":{},"sourceType":"module"}