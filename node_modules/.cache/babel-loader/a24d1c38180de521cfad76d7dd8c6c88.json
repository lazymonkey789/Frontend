{"ast":null,"code":"import _regeneratorRuntime from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useLocation,useNavigate}from\"react-router-dom\";import{useContext,useState}from\"react\";import{AuthContext}from\"../context/AuthProvider\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BbsUpdate(){var _useContext=useContext(HttpHeadersContext),headers=_useContext.headers,setHeaders=_useContext.setHeaders;var _useContext2=useContext(AuthContext),auth=_useContext2.auth,setAuth=_useContext2.setAuth;var navigate=useNavigate();var location=useLocation();var bbs=location.state.bbs;var _useState=useState(bbs.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(bbs.content),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var changeTitle=function changeTitle(event){setTitle(event.target.value);};var changeContent=function changeContent(event){setContent(event.target.value);};var updateBbs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var req;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:req={id:auth,title:title,content:content};_context.next=3;return axios.patch(\"http://localhost:3000/bbs/\".concat(bbs.seq),req,{headers:headers}).then(function(resp){console.log(\"[BbsUpdate.js] updateBbs() success :D\");console.log(resp.data);if(resp.data.updatedRecordCount==1){alert(\"게시글을 성공적으로 수정했습니다 :D\");navigate(\"/bbsdetail/\".concat(bbs.seq));// 글 상세로 이동\n}}).catch(function(err){console.log(\"[BbsUpdate.js] updateBbs() error :<\");console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateBbs(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:bbs.id,size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:changeTitle,size:\"50px\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:content,onChange:changeContent,rows:\"10\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark\",onClick:updateBbs,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pen\"}),\" \\uC218\\uC815\\uD558\\uAE30\"]})})]});}export default BbsUpdate;","map":{"version":3,"names":["React","axios","useLocation","useNavigate","useContext","useState","AuthContext","HttpHeadersContext","BbsUpdate","headers","setHeaders","auth","setAuth","navigate","location","bbs","state","title","setTitle","content","setContent","changeTitle","event","target","value","changeContent","updateBbs","req","id","patch","seq","then","resp","console","log","data","updatedRecordCount","alert","catch","err"],"sources":["C:/Equinox/Workspace/frontend/src/Components/bbs/BbsUpdate.js"],"sourcesContent":["import  React from \"react\";\nimport axios from \"axios\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\n\nfunction BbsUpdate() {\n\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\n\tconst { auth, setAuth } = useContext(AuthContext);\n\n\tconst navigate = useNavigate();\n\n\tconst location = useLocation();\n\tconst { bbs } = location.state;\n\t\n\tconst [title, setTitle] = useState(bbs.title);\n\tconst [content, setContent] = useState(bbs.content);\n\n\tconst changeTitle = (event) => {\n\t\tsetTitle(event.target.value);\n\t}\n\n\tconst changeContent = (event) => {\n\t\tsetContent(event.target.value);\n\t}\n\n\tconst updateBbs = async () => {\n\n\t\tconst req = {\n\t\t\tid: auth, \n\t\t\ttitle: title, \n\t\t\tcontent: content\n\t\t}\n\n\t\tawait axios.patch(`http://localhost:3000/bbs/${bbs.seq}`, req, {headers: headers})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"[BbsUpdate.js] updateBbs() success :D\");\n\t\t\tconsole.log(resp.data);\n\n\t\t\tif (resp.data.updatedRecordCount == 1) {\n\t\t\t\talert(\"게시글을 성공적으로 수정했습니다 :D\");\n\t\t\t\tnavigate(`/bbsdetail/${bbs.seq}`); // 글 상세로 이동\n\t\t\t}\n\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(\"[BbsUpdate.js] updateBbs() error :<\");\n\t\t\tconsole.log(err);\n\t\t});\n\n\t}\n\n\n\treturn (\n\t\t<div>\n\t\t\t<table className=\"table\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">작성자</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"  value={bbs.id} size=\"50px\" readOnly />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">제목</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={title} onChange={changeTitle} size=\"50px\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">내용</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<textarea className=\"form-control\" value={content} onChange={changeContent} rows=\"10\" ></textarea>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<div className=\"my-3 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-dark\" onClick={updateBbs}><i className=\"fas fa-pen\"></i> 수정하기</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n}\n\nexport default BbsUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module"}