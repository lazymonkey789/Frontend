{"ast":null,"code":"import _regeneratorRuntime from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Equinox/Workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import{useContext,useState,useEffect}from\"react\";import{AuthContext}from\"../context/AuthProvider\";import{HttpHeadersContext}from\"../context/HttpHeadersProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BbsAnswer(){var _useContext=useContext(AuthContext),auth=_useContext.auth,setAuth=_useContext.setAuth;var _useContext2=useContext(HttpHeadersContext),headers=_useContext2.headers,setHeaders=_useContext2.setHeaders;var navigate=useNavigate();var _useParams=useParams(),parentSeq=_useParams.parentSeq;// 부모 글 번호\nvar location=useLocation();var parentBbs=location.state.parentBbs;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var changeTitle=function changeTitle(event){setTitle(event.target.value);};var changeContent=function changeContent(event){setContent(event.target.value);};var createBbsAnswer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var req;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:req={id:localStorage.getItem(\"id\"),title:title,content:content};_context.next=3;return axios.post(\"http://localhost:3000/bbs/\".concat(parentSeq,\"/answer\"),req,{headers:headers}).then(function(resp){console.log(\"[BbsAnswer.js] createBbsAnswer() success :D\");console.log(resp.data);alert(\"답글을 성공적으로 등록했습니다 :D\");navigate(\"/bbsdetail/\".concat(resp.data.seq));// 새롭게 등록한 답글 상세로 이동\n}).catch(function(err){console.log(\"[BbsAnswer.js] createBbsAnswer() error :<\");console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function createBbsAnswer(){return _ref.apply(this,arguments);};}();useEffect(function(){if(!auth){alert(\"로그인 한 사용자만 게시글에 대한 답글을 작성할 수 있습니다 !\");navigate(-1);}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:parentBbs.id,size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:parentBbs.title,size:\"50px\",readOnly:true})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCC Reply\"}),/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:localStorage.getItem(\"id\"),size:\"50px\",readOnly:true})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:changeTitle,size:\"50px\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-primary\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:content,onChange:changeContent,rows:\"10\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"my-5 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:createBbsAnswer,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pen\"}),\" \\uB2F5\\uAE00\\uB2EC\\uAE30\"]})})]});}export default BbsAnswer;","map":{"version":3,"names":["React","axios","useLocation","useNavigate","useParams","useContext","useState","useEffect","AuthContext","HttpHeadersContext","BbsAnswer","auth","setAuth","headers","setHeaders","navigate","parentSeq","location","parentBbs","state","title","setTitle","content","setContent","changeTitle","event","target","value","changeContent","createBbsAnswer","req","id","localStorage","getItem","post","then","resp","console","log","data","alert","seq","catch","err"],"sources":["C:/Equinox/Workspace/frontend/src/Components/bbs/BbsAnswer.js"],"sourcesContent":["import  React from \"react\";\nimport axios from \"axios\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\n\nfunction BbsAnswer() {\n\n\tconst { auth, setAuth } = useContext(AuthContext)\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\n\n\tconst navigate = useNavigate();\n\n\tconst { parentSeq } = useParams(); // 부모 글 번호\n\n\tconst location = useLocation();\n\tconst { parentBbs } = location.state;\n\n\tconst [title, setTitle] = useState(\"\");\n\tconst [content, setContent] = useState(\"\");\n\n\tconst changeTitle = (event) => {\n\t\tsetTitle(event.target.value);\n\t}\n\n\tconst changeContent = (event) => {\n\t\tsetContent(event.target.value);\n\t}\n\n\n\tconst createBbsAnswer = async () => {\n\n\t\tconst req = {\n\t\t\tid: localStorage.getItem(\"id\"),\n\t\t\ttitle: title,\n\t\t\tcontent: content\n\t\t}\n\t\t\n\t\tawait axios.post(`http://localhost:3000/bbs/${parentSeq}/answer`, req, {headers: headers})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"[BbsAnswer.js] createBbsAnswer() success :D\");\n\t\t\tconsole.log(resp.data);\n\n\t\t\talert(\"답글을 성공적으로 등록했습니다 :D\");\n\t\t\tnavigate(`/bbsdetail/${resp.data.seq}`); // 새롭게 등록한 답글 상세로 이동\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(\"[BbsAnswer.js] createBbsAnswer() error :<\");\n\t\t\tconsole.log(err);\n\n\n\t\t});\n\n\t}\n\n\tuseEffect(() => {\n\t\tif (!auth) {\n\t\t\talert(\"로그인 한 사용자만 게시글에 대한 답글을 작성할 수 있습니다 !\");\n\t\t\tnavigate(-1);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t{/* 부모 게시글 정보 */}\n\t\t\t<table className=\"table\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">작성자</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={parentBbs.id} size=\"50px\" readOnly />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">제목</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={parentBbs.title} size=\"50px\" readOnly />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table><br/><br/>\n\t\t\t\n\t\t\t{/* 답글 작성 */}\n\t\t\t<h3>📌 Reply</h3>\n\t\t\t<table className=\"table\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">작성자</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\"  value={localStorage.getItem(\"id\")} size=\"50px\" readOnly />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">제목</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={title} onChange={changeTitle} size=\"50px\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"table-primary\">내용</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<textarea className=\"form-control\" value={content} onChange={changeContent} rows=\"10\"></textarea>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<div className=\"my-5 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={createBbsAnswer}><i className=\"fas fa-pen\"></i> 답글달기</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default BbsAnswer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}